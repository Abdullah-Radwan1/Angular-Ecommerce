<section class="menu bg-base-200 text-base-content min-h-full w-80 p-4">
  <div class="flex items-center gap-2">
    <input
      type="text"
      placeholder="Search products..."
      class="input input-bordered"
      [(ngModel)]="searchTerm"
    />

    <!-- Search icon button -->
    <button class="bg-primary rounded-full p-2 hover:cursor-pointer" (click)="onSearch(searchTerm)">
      <lucide-icon [img]="Search"></lucide-icon>
    </button>
  </div>

  <!-- Price Range Filter -->
  <div class="mb-6">
    <h3 class="font-bold text-lg mb-4">Price Range</h3>
    <div class="px-2">
      <!-- Min Price Slider -->
      <div class="mb-4">
        <label class="label">
          <span class="label-text">Min Price: ${{ minPrice }}</span>
        </label>
        <input
          type="range"
          min="0"
          max="1000"
          [value]="minPrice"
          (input)="onMinPriceChange($event)"
          class="range range-primary range-sm"
        />
      </div>

      <!-- Max Price Slider -->
      <div class="mb-2">
        <label class="label">
          <span class="label-text">Max Price: ${{ maxPrice }}</span>
        </label>
        <input
          type="range"
          min="0"
          max="1000"
          [value]="maxPrice"
          (input)="onMaxPriceChange($event)"
          class="range range-primary range-sm"
        />
      </div>
    </div>
  </div>

  <!-- Sort Options -->
  <div class="mb-6">
    <h3 class="font-bold text-lg mb-4">Sort By</h3>
    <div class="space-y-2">
      <label class="flex items-center cursor-pointer">
        <input
          type="radio"
          name="sort"
          value="price-low-high"
          [checked]="sortOption === 'price-low-high'"
          (change)="onSortChange($event)"
          class="radio radio-primary radio-sm mr-2"
        />
        <span>Price: Low to High</span>
      </label>
      <label class="flex items-center cursor-pointer">
        <input
          type="radio"
          name="sort"
          value="price-high-low"
          [checked]="sortOption === 'price-high-low'"
          (change)="onSortChange($event)"
          class="radio radio-primary radio-sm mr-2"
        />
        <span>Price: High to Low</span>
      </label>
      <label class="flex items-center cursor-pointer">
        <input
          type="radio"
          name="sort"
          value="name-a-z"
          [checked]="sortOption === 'name-a-z'"
          (change)="onSortChange($event)"
          class="radio radio-primary radio-sm mr-2"
        />
        <span>Name: A to Z</span>
      </label>
      <label class="flex items-center cursor-pointer">
        <input
          type="radio"
          name="sort"
          value="name-z-a"
          [checked]="sortOption === 'name-z-a'"
          (change)="onSortChange($event)"
          class="radio radio-primary radio-sm mr-2"
        />
        <span>Name: Z to A</span>
      </label>
    </div>
  </div>

  <!-- Categories Filter -->
  <div class="mb-6">
    <h3 class="font-bold text-lg mb-4">Categories</h3>
    <div class="space-y-2">
      <label class="flex items-center cursor-pointer" *ngFor="let category of categories">
        <input
          type="checkbox"
          [value]="category"
          [checked]="selectedCategories.includes(category)"
          (change)="onCategoryChange(category, $event)"
          class="checkbox checkbox-primary checkbox-sm mr-2"
        />
        <span>{{ formatCategoryName(category) }}</span>
      </label>
    </div>
  </div>

  <!-- Clear Filters Button -->
  <div class="">
    <button (click)="clearFilters()" class="btn btn-outline btn-sm w-full">
      Clear All Filters
    </button>
  </div>
</section>
